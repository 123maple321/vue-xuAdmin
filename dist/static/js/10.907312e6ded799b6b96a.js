(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{CPP1:function(e,a,i){},CvD9:function(e,a,i){"use strict";i("CPP1")},QyUH:function(e,a,i){"use strict";i.r(a);var n=i("P2sY"),t=i.n(n),o=i("EJiy"),r=i.n(o),s={name:"navClassify",data:function(){return{dynamicValidateForm:{domains:[],indexName:"首页",indexHref:"/index"}}},methods:{submitForm:function(e){var a=this,i={name:this.dynamicValidateForm.indexName,href:this.dynamicValidateForm.indexHref};var n=this.dynamicValidateForm.domains.map((function(e){return"object"===(void 0===e?"undefined":r()(e))?t()({},e):e}));n.unshift(i);var o=n,s=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;a.$axios.post("/api/setting/setNavClassify",{navClassifyData:o}).then((function(e){console.log(e),s.$message({showClose:!0,message:e.data.msg,type:"success"})})).catch((function(e){console.log(e),s.$message({showClose:!0,message:e,type:"error"})}))}))},resetForm:function(e){this.$refs[e].resetFields()},removeDomain:function(e){var a=this.dynamicValidateForm.domains.indexOf(e);-1!==a&&this.dynamicValidateForm.domains.splice(a,1)},addDomain:function(){this.dynamicValidateForm.domains.push({indexName:"",indexHref:"",key:Date.now()})}},mounted:function(){}},d=(i("CvD9"),i("KHd+")),m=Object(d.a)(s,(function(){var e=this,a=e._self._c;return a("div",{staticClass:"wrap"},[a("el-form",{ref:"dynamicValidateForm",staticClass:"demo-dynamic",attrs:{model:e.dynamicValidateForm,"label-width":"100px"}},[a("el-form-item",{attrs:{prop:"indexName",label:"首页",rules:{required:!0,message:"分类不能为空",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"导航名称"},model:{value:e.dynamicValidateForm.indexName,callback:function(a){e.$set(e.dynamicValidateForm,"indexName",a)},expression:"dynamicValidateForm.indexName"}}),e._v(" "),a("el-input",{attrs:{placeholder:"path路径",disabled:""},model:{value:e.dynamicValidateForm.indexHref,callback:function(a){e.$set(e.dynamicValidateForm,"indexHref",a)},expression:"dynamicValidateForm.indexHref"}})],1),e._v(" "),e._l(e.dynamicValidateForm.domains,(function(i,n){return a("el-form-item",{key:i.key,attrs:{label:"导航"+(n+1),prop:"domains."+n+".value"}},[a("el-input",{attrs:{placeholder:"导航名称"},model:{value:i.name,callback:function(a){e.$set(i,"name",a)},expression:"domain.name"}}),e._v(" "),a("el-input",{attrs:{placeholder:"path路径"},model:{value:i.href,callback:function(a){e.$set(i,"href",a)},expression:"domain.href"}}),e._v(" "),a("el-button",{on:{click:function(a){return a.preventDefault(),e.removeDomain(i)}}},[e._v("删除")])],1)})),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.submitForm("dynamicValidateForm")}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:e.addDomain}},[e._v("新增分类")])],1)],2)],1)}),[],!1,null,"40240a43",null);a.default=m.exports}}]);
//# sourceMappingURL=10.907312e6ded799b6b96a.js.map